<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>Экспресс квартира — демо</title>
<link rel="stylesheet" href="style.css">
<style>
#variants .card { cursor:pointer;border:1px solid #dbe6f7;padding:10px;margin-bottom:8px}
#variants .card.active{border-color:#2f80ed;background:#eef5ff}
</style>
</head>
<body>

<div class="container">
<h1>Экспресс квартира</h1>

<div class="card">
  <div class="small-block">
    Продукт по защите квартир с фиксированными вариантами страховых сумм и страховых премий.
  </div>
</div>

<div class="grid">

<div class="card">
<h3>Выберите вариант</h3>
<div id="variants"></div>

<label style="margin-top:10px;display:block">
<input type="checkbox" id="choiceGO"> Подключить гражданскую ответственность (ГО)
</label>
</div>

<div class="card">
<h3>Детали варианта</h3>

<div class="small-block">Отделка и инженерное оборудование:
 <span id="finish">—</span> ₽</div>

<div class="small-block">Движимое имущество:
 <span id="movable">—</span></div>

<div class="small-block">Лимит ГО:
 <span id="goLimit">—</span></div>

<div class="total">
К оплате: <span id="price">—</span> ₽
</div>

<hr>

<h3>Риски</h3>
<p class="small-block">
Пожар, взрыв, повреждение водой, механическое повреждение, кража,
грабёж, разбой, умышленные действия, вред третьим лицам,
стихийное бедствие, теракт, короткое замыкание.
<br>«Повреждение инженерных систем».
</p>

<h3>Запретительные факторы</h3>
<p class="small-block">
За пределами РФ; опасные территории; аварийное состояние, под снос, «реновация»;
коммунальные квартиры; дома с деревянными или смешанными перекрытиями;
для коммерческих целей; аренда менее 1 месяца; износ 70%;
наличные, драгметаллы, ценные бумаги;
движимое имущество в неработоспособном состоянии.
</p>

</div>
</div>
</div>

<script>
const PACKS = [
 {id:1, finish:50000, movable:0, price:550, priceGO:900, go:50000},
 {id:2, finish:50000, movable:50000, price:750, priceGO:1100, go:50000},
 {id:3, finish:100000, movable:0, price:1100, priceGO:1450, go:50000},
 {id:4, finish:100000, movable:50000, price:1300, priceGO:1650, go:50000},
 {id:5, finish:150000, movable:50000, price:1850, priceGO:2200, go:50000},
 {id:6, finish:150000, movable:100000, price:2050, priceGO:2400, go:50000},
 {id:7, finish:150000, movable:150000, price:2250, priceGO:3300, go:150000},
 {id:8, finish:250000, movable:150000, price:3350, priceGO:4050, go:100000},
];

let current = null;

const box = document.getElementById('variants');
const f = document.getElementById('finish');
const m = document.getElementById('movable');
const g = document.getElementById('goLimit');
const p = document.getElementById('price');
const chk = document.getElementById('choiceGO');

function fmt(x){
 return x ? x.toLocaleString()+' ₽' : 'не страхуется';
}

function draw(){
 if(!current) return;

 f.textContent = current.finish.toLocaleString();
 m.textContent = fmt(current.movable);
 g.textContent = current.go.toLocaleString() + ' ₽';

 p.textContent = (chk.checked ? current.priceGO : current.price).toLocaleString();
}

PACKS.forEach(pack=>{
 const d=document.createElement('div');
 d.className='card';
 d.innerHTML=`<b>Вариант ${pack.id}</b><br>
Отделка: ${pack.finish.toLocaleString()} ₽<br>
Движимое: ${fmt(pack.movable)}`;
 d.onclick=()=>{
   document.querySelectorAll('#variants .card')
           .forEach(x=>x.classList.remove('active'));
   d.classList.add('active');
   current=pack;
   draw();
 };
 box.appendChild(d);
});

chk.onchange=draw;

// автоселект варианта 1
box.firstChild.click();
</script>

</body>
</html>
